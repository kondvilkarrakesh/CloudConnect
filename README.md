# CloudConnect

# Seting up your machine after clonning the repository

Run the following command on the root directory

```
npm install
```
The above line will install all the dependencies for this project.

#Usage of CloudConnect.js

 Options:

   -h, --help                                       output usage information
   -V, --version                                    output the version number
   -c, --cloudProvider <cloudProvider>              Cloud Provider
   -u, --userName <userName>                        User Name
   -p, --password <password>                        Password
   -r, --region <region>                            Region
   -a, --authUrl <authUrl>                          Authentical Url
   -e, --requiredEnvironment <requiredEnvironment>  Required Environment Configration

Note : The "Required Environment Configration" is a path to a json file which mentions the VM configurations

Sample MyEnvironment.json for "Required Environment Configration"

```

{"environmentInstances" : [
{"name": "AppServer1", "flavour":"m1.tiny","image":"cirros-0.3.2-x86_64-uec"},
{"name": "WebServer1", "flavour":"m1.nano","image":"cirros-0.3.2-x86_64-uec"}
]}

```

# Invoking CloudConnect

```
node CloudConnect.js -c "openstack" -u "rakesh" -p "password" -r "RegionOne" -a "http://192.168.100.148:5000" -e "MyEnvironment.json"
```

The above code will connect to your cloud provider and would create compute instances as per the Rquired Environment configuration.

#Output

The output generated by CloudConnect.js is as follows

```
You Entered
-c Cloud Provider : "openstack"
-u User name : "rakesh"
-r Region : "RegionOne"
-a AuthUrl: "http://192.168.100.148:5000"
-e RequiredEnvironment: "MyEnvironment.json"
Hang on folks... we are connecting to cloud now..
Yippie... we are in cloud now..
Got all the available flavours...going for images now
Got all the available images...get ready I am going for your environment creatio
n now
INSTANCE CREATED: WebServer1, waiting for active status
INSTANCE CREATED: AppServer1, waiting for active status
INSTANCE INFO => "5ab5bc20-f1ca-4855-8299-7f990f3dcf80"  | "WebServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:29:a6:17","version":4,"addr":"10.0.0.4","OS-EXT-IPS:type":"fixed"}]
INSTANCE INFO => "5ab5bc20-f1ca-4855-8299-7f990f3dcf80"  | "WebServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:29:a6:17","version":4,"addr":"10.0.0.4","OS-EXT-IPS:type":"fixed"}]
INSTANCE INFO => "dedf0833-f35e-495b-9767-b05581623963"  | "AppServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:fd:bc:14","version":4,"addr":"10.0.0.5","OS-EXT-IPS:type":"fixed"}]
INSTANCE INFO => "5ab5bc20-f1ca-4855-8299-7f990f3dcf80"  | "WebServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:29:a6:17","version":4,"addr":"10.0.0.4","OS-EXT-IPS:type":"fixed"}]
INSTANCE INFO => "dedf0833-f35e-495b-9767-b05581623963"  | "AppServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:fd:bc:14","version":4,"addr":"10.0.0.5","OS-EXT-IPS:type":"fixed"}]
INSTANCE INFO => "dedf0833-f35e-495b-9767-b05581623963"  | "AppServer1"     |
"RUNNING" | [{"OS-EXT-IPS-MAC:mac_addr":"fa:16:3e:fd:bc:14","version":4,"addr":"10.0.0.5","OS-EXT-IPS:type":"fixed"}]

```

